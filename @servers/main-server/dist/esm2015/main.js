"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const Http2 = require("http");
const Koa = require("koa");
const SocketIO = require("socket.io");
exports.app = new Koa();
exports.app.use((ctx) => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
    ctx.body = 'Hello World';
}));
const http = Http2.createServer(exports.app.callback());
const io = SocketIO(http);
http.listen(3000, '0.0.0.0', () => {
    console.log('Server start on http://localhost:3000');
});
io.on("connection", (socket) => {
    console.log(`${socket.id} - ${socket.client.id} - ${socket.conn.id} connected`);
    socket.on('chat', (msg) => {
        console.log('msg', msg);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BzZXJ2ZXJzL21haW4tc2VydmVyLyIsInNvdXJjZXMiOlsibWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4QkFBOEI7QUFDOUIsMkJBQTJCO0FBQzNCLHNDQUFzQztBQUV6QixRQUFBLEdBQUcsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBRTdCLFdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBTSxHQUFHLEVBQUMsRUFBRTtJQUNsQixHQUFHLENBQUMsSUFBSSxHQUFHLGFBQWEsQ0FBQztBQUMzQixDQUFDLENBQUEsQ0FBQyxDQUFDO0FBRUgsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxXQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztBQUVoRCxNQUFNLEVBQUUsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7QUFFMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRTtJQUNoQyxPQUFPLENBQUMsR0FBRyxDQUFDLHVDQUF1QyxDQUFDLENBQUM7QUFDdkQsQ0FBQyxDQUFDLENBQUM7QUFFSCxFQUFFLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFO0lBQzdCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxNQUFNLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUNoRixNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ3hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzFCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBIdHRwMiBmcm9tICdodHRwJztcbmltcG9ydCAqIGFzIEtvYSBmcm9tICdrb2EnO1xuaW1wb3J0ICogYXMgU29ja2V0SU8gZnJvbSAnc29ja2V0LmlvJztcblxuZXhwb3J0IGNvbnN0IGFwcCA9IG5ldyBLb2EoKTtcblxuYXBwLnVzZShhc3luYyBjdHggPT4ge1xuICBjdHguYm9keSA9ICdIZWxsbyBXb3JsZCc7XG59KTtcblxuY29uc3QgaHR0cCA9IEh0dHAyLmNyZWF0ZVNlcnZlcihhcHAuY2FsbGJhY2soKSk7XG5cbmNvbnN0IGlvID0gU29ja2V0SU8oaHR0cCk7XG5cbmh0dHAubGlzdGVuKDMwMDAsICcwLjAuMC4wJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnU2VydmVyIHN0YXJ0IG9uIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcpO1xufSk7XG5cbmlvLm9uKFwiY29ubmVjdGlvblwiLCAoc29ja2V0KSA9PiB7XG4gIGNvbnNvbGUubG9nKGAke3NvY2tldC5pZH0gLSAke3NvY2tldC5jbGllbnQuaWR9IC0gJHtzb2NrZXQuY29ubi5pZH0gY29ubmVjdGVkYCk7XG4gIHNvY2tldC5vbignY2hhdCcsIChtc2cpID0+IHtcbiAgICBjb25zb2xlLmxvZygnbXNnJywgbXNnKTtcbiAgfSk7XG59KTtcbiJdfQ==